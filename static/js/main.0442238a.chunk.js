(this.webpackJsonpcomp=this.webpackJsonpcomp||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},34:function(e,t,n){"use strict";function r(e){function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function n(e,t){if(!e)return/(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",n)}function r(e,r){(e.next||e.push)&&t(r,e.next||e.push),this.regex=n(e.regex),this.token=function(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}(e.token),this.data=e}function a(e,t){return function(n,r){if(r.pending){var a=r.pending.shift();return 0==r.pending.length&&(r.pending=null),n.pos+=a.text.length,a.token}if(r.local){if(r.local.end&&n.match(r.local.end)){var i=r.local.endToken||null;return r.local=r.localState=null,i}var s;i=r.local.mode.token(n,r.localState);return r.local.endScan&&(s=r.local.endScan.exec(n.current()))&&(n.pos=n.start+s.index),i}for(var l=e[r.state],c=0;c<l.length;c++){var u=l[c],d=(!u.data.sol||n.sol())&&n.match(u.regex);if(d){u.data.next?r.state=u.data.next:u.data.push?((r.stack||(r.stack=[])).push(r.state),r.state=u.data.push):u.data.pop&&r.stack&&r.stack.length&&(r.state=r.stack.pop()),u.data.mode&&o(t,r,u.data.mode,u.token),u.data.indent&&r.indent.push(n.indentation()+t.indentUnit),u.data.dedent&&r.indent.pop();var f=u.token;if(f&&f.apply&&(f=f(d)),d.length>2&&u.token&&"string"!=typeof u.token){r.pending=[];for(var p=2;p<d.length;p++)d[p]&&r.pending.push({text:d[p],token:u.token[p-1]});return n.backUp(d[0].length-(d[1]?d[1].length:0)),f[0]}return f&&f.join?f[0]:f}}return n.next(),null}}function i(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=0;for(var r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r)||!i(e[r],t[r]))return!1;n++}for(var r in t)t.hasOwnProperty(r)&&n--;return 0==n}function o(t,r,a,o){var s;if(a.persistent)for(var l=r.persistentStates;l&&!s;l=l.next)(a.spec?i(a.spec,l.spec):a.mode==l.mode)&&(s=l);var c=s?s.mode:a.mode||e.getMode(t,a.spec),u=s?s.state:e.startState(c);a.persistent&&!s&&(r.persistentStates={mode:c,spec:a.spec,state:u,next:r.persistentStates}),r.localState=u,r.local={mode:c,end:a.end&&n(a.end),endScan:a.end&&!1!==a.forceEnd&&n(a.end,!1),endToken:o&&o.join?o[o.length-1]:o}}function s(t,n){return function(r,a,i){if(r.local&&r.local.mode.indent)return r.local.mode.indent(r.localState,a,i);if(null==r.indent||r.local||n.dontIndentStates&&function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0}(r.state,n.dontIndentStates)>-1)return e.Pass;var o=r.indent.length-1,s=t[r.state];e:for(;;){for(var l=0;l<s.length;l++){var c=s[l];if(c.data.dedent&&!1!==c.data.dedentIfLineStart){var u=c.regex.exec(a);if(u&&u[0]){o--,(c.next||c.push)&&(s=t[c.next||c.push]),a=a.slice(u[0].length);continue e}}}break}return o<0?0:r.indent[o]}}e.defineSimpleMode=function(t,n){e.defineMode(t,(function(t){return e.simpleMode(t,n)}))},e.simpleMode=function(n,i){t(i,"start");var o={},l=i.meta||{},c=!1;for(var u in i)if(u!=l&&i.hasOwnProperty(u))for(var d=o[u]=[],f=i[u],p=0;p<f.length;p++){var h=f[p];d.push(new r(h,i)),(h.indent||h.dedent)&&(c=!0)}var g={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:c?[]:null}},copyState:function(t){var n={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(n.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(n.stack=t.stack.slice(0));for(var r=t.persistentStates;r;r=r.next)n.persistentStates={mode:r.mode,spec:r.spec,state:r.state==t.localState?n.localState:e.copyState(r.mode,r.state),next:n.persistentStates};return n},token:a(o,n),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:s(o,l)};if(l)for(var b in l)l.hasOwnProperty(b)&&(g[b]=l[b]);return g}}n.r(t),n.d(t,"addDefineSimpleMode",(function(){return r}))},35:function(e,t,n){"use strict";n.r(t);var r,a=n(2),i=n.n(a),o=n(15),s=n.n(o),l=(n(23),n(5)),c=n(18),u=n(17),d=n(3),f=n(11),p=n(12),h=(n(24),n(16)),g=(n(26),n(27),n(28),n(6)),b=n.n(g),m=n(14),v=n(8),w=n.n(v),y=n(13),k=new Array(32).fill(void 0);function _(e){return k[e]}k.push(void 0,null,!0,!1);var x=k.length;function S(e){var t=_(e);return function(e){e<36||(k[e]=x,x=e)}(e),t}var O=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});O.decode();var j=null;function T(){return null!==j&&j.buffer===r.memory.buffer||(j=new Uint8Array(r.memory.buffer)),j}function E(e,t){return O.decode(T().subarray(e,e+t))}var z=null;function C(){return null!==z&&z.buffer===r.memory.buffer||(z=new Uint32Array(r.memory.buffer)),z}var I=0;function M(e){if("number"!==typeof e)throw new Error("expected a number argument")}var P=null;function A(){return null!==P&&P.buffer===r.memory.buffer||(P=new Int32Array(r.memory.buffer)),P}function J(e,t,n,a){try{var i=r.__wbindgen_add_to_stack_pointer(-16),o=function(e,t){var n=t(4*e.length);return C().set(e,n/4),I=e.length,n}(e,r.__wbindgen_malloc),s=I;M(t),M(n),M(a),r.perform_simulation(i,o,s,t,n,a);var l=A()[i/4+0],c=A()[i/4+1],u=(d=l,f=c,T().subarray(d/1,d/1+f)).slice();return r.__wbindgen_free(l,1*c),u}finally{r.__wbindgen_add_to_stack_pointer(16)}var d,f}function W(){try{var e=r.__wbindgen_add_to_stack_pointer(-16);r.get_indices(e);var t=A()[e/4+0],n=A()[e/4+1],a=(i=t,o=n,C().subarray(i/4,i/4+o)).slice();return r.__wbindgen_free(t,4*n),a}finally{r.__wbindgen_add_to_stack_pointer(16)}var i,o}function F(e,t){try{return e.apply(this,t)}catch(r){var n=function(){try{return r instanceof Error?"".concat(r.message,"\n\nStack:\n").concat(r.stack):r.toString()}catch(e){return"<failed to stringify thrown value>"}}();throw console.error("wasm-bindgen: imported JS function that was not marked as `catch` threw an error:",n),r}}function N(e){x===k.length&&k.push(k.length+1);var t=x;if("number"!==typeof(x=k[t]))throw new Error("corrupt heap");return k[t]=e,t}var L=new TextEncoder("utf-8"),R="function"===typeof L.encodeInto?function(e,t){return L.encodeInto(e,t)}:function(e,t){var n=L.encode(e);return t.set(n),{read:e.length,written:n.length}};function U(e,t,n){if("string"!==typeof e)throw new Error("expected a string argument");if(void 0===n){var r=L.encode(e),a=t(r.length);return T().subarray(a,a+r.length).set(r),I=r.length,a}for(var i=e.length,o=t(i),s=T(),l=0;l<i;l++){var c=e.charCodeAt(l);if(c>127)break;s[o+l]=c}if(l!==i){0!==l&&(e=e.slice(l)),o=n(o,i,i=l+3*e.length);var u=T().subarray(o+l,o+i),d=R(e,u);if(d.read!==e.length)throw new Error("failed to pass whole string");l+=d.written}return I=l,o}function Z(e,t){return B.apply(this,arguments)}function B(){return(B=Object(y.a)(w.a.mark((function e(t,n){var r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("function"===typeof Response&&t instanceof Response)){e.next=23;break}if("function"!==typeof WebAssembly.instantiateStreaming){e.next=15;break}return e.prev=2,e.next=5,WebAssembly.instantiateStreaming(t,n);case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),"application/wasm"==t.headers.get("Content-Type")){e.next=14;break}console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e.t0),e.next=15;break;case 14:throw e.t0;case 15:return e.next=17,t.arrayBuffer();case 17:return r=e.sent,e.next=20,WebAssembly.instantiate(r,n);case 20:return e.abrupt("return",e.sent);case 23:return e.next=25,WebAssembly.instantiate(t,n);case 25:if(!((a=e.sent)instanceof WebAssembly.Instance)){e.next=30;break}return e.abrupt("return",{instance:a,module:t});case 30:return e.abrupt("return",a);case 31:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function $(e){return D.apply(this,arguments)}function D(){return(D=Object(y.a)(w.a.mark((function e(t){var n,a,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n={}).wbg={},n.wbg.__wbg_error_4bb6c2a97407129a=function(){return F((function(e,t){try{console.error(E(e,t))}finally{r.__wbindgen_free(e,t)}}),arguments)},n.wbg.__wbg_new_59cb74e423758ede=function(){return F((function(){return N(new Error)}),arguments)},n.wbg.__wbg_stack_558ba5917b466edd=function(){return F((function(e,t){var n=U(_(t).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),a=I;A()[e/4+1]=a,A()[e/4+0]=n}),arguments)},n.wbg.__wbindgen_object_drop_ref=function(e){S(e)},n.wbg.__wbindgen_throw=function(e,t){throw new Error(E(e,t))},("string"===typeof t||"function"===typeof Request&&t instanceof Request||"function"===typeof URL&&t instanceof URL)&&(t=fetch(t)),e.t0=Z,e.next=12,t;case 12:return e.t1=e.sent,e.t2=n,e.next=16,(0,e.t0)(e.t1,e.t2);case 16:return a=e.sent,i=a.instance,o=a.module,r=i.exports,$.__wbindgen_wasm_module=o,e.abrupt("return",r);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=$,H=n(1),K=!1;q("/libsnpspice_bg.wasm").then((function(){K=!0,r.init_panic_hook()}));function Y(e){var t=window.Sk;if(void 0===t.builtinFiles||void 0===t.builtinFiles.files[e])throw"File not found: '"+e+"'";return t.builtinFiles.files[e]}n(34).addDefineSimpleMode(b.a),b.a.defineSimpleMode("complang",{start:[{regex:/"(?:[^\\]|\\.)*?(?:"|$)/,token:"string"},{regex:/(?:pfet|nfet|probe|wire|button|signal)\b/,token:"keyword"},{regex:/(?:vdd|gnd)\b/,token:"builtin"},{regex:/[01]+[.][.][.]/i,token:"number"},{regex:/0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,token:"number"},{regex:/`.*`/,token:"units"},{regex:/\/\/.*/,token:"comment"},{regex:/[-+\/*=<>!~]+/,token:"operator"},{regex:/\$[a-zA-Z_][a-zA-Z0-9_']*/,token:"compilevar"},{regex:/[a-zA-Z_][a-zA-Z0-9_']*/,token:"neutral"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],lineComment:"//"}});var G=function(){function e(){Object(f.a)(this,e),this.weights=new Map,this.parents=new Map}return Object(p.a)(e,[{key:"canonicalize",value:function(e){this.weights.has(e)||(this.weights.set(e,1),this.parents.set(e,e));for(var t=[e],n=this.parents.get(e);n!==t[t.length-1];)t.push(n),n=this.parents.get(n);for(var r=0,a=t;r<a.length;r++){var i=a[r];this.parents.set(i,n)}return n}},{key:"union",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(0!==n.length){var a,i=n.map((function(t){return e.canonicalize(t)})),o=0,s=null,l=0,c=Object(d.a)(i);try{for(c.s();!(a=c.n()).done;){var u=a.value,f=this.weights.get(u);o+=f,f>l&&(s=u,l=f)}}catch(b){c.e(b)}finally{c.f()}this.weights.set(s,o);var p,h=Object(d.a)(i);try{for(h.s();!(p=h.n()).done;){var g=p.value;g!==s&&this.parents.set(g,s)}}catch(b){h.e(b)}finally{h.f()}}}}]),e}();function Q(e){var t,n=30*e.probes.length,r=[],a=0,i=Object(d.a)(e.probes);try{for(i.s();!(t=i.n()).done;){var o,s=t.value,l=[],c=[],u=0,f=-1,p=e.netTraces.get(s.net),h=Object(d.a)(p);try{for(h.s();!(o=h.n()).done;){var g=o.value,b=3+5*u,m=3,v=27;if(0===g||(1===g?m=v=27:2===g?m=v=3:3===g&&(f=b)),0===u?l.push("M ".concat(b," ").concat(v)):l.push("L ".concat(b," ").concat(v)),c.push("L ".concat(b," ").concat(m)),u++,f>=0)break}}catch(w){h.e(w)}finally{h.f()}c.reverse(),c.push("Z"),r.push(Object(H.jsxs)("g",{transform:"translate(140 ".concat(30*a,")"),children:[Object(H.jsx)("text",{x:-140,y:20,stroke:"white",fill:"white",children:s.label}),Object(H.jsx)("path",{d:[].concat(l,c).join(" "),stroke:"white",strokeWidth:3,fill:"rgba(255, 255, 255, 0.3)"}),-1!==f&&Object(H.jsx)("path",{d:"M ".concat(f," 3 L ").concat(797," 3 L ").concat(797," 27 L ").concat(f," 27 Z"),stroke:"red",strokeWidth:3,fill:"rgba(255, 0, 0, 0.3)"})]},a)),a++}}catch(w){i.e(w)}finally{i.f()}return Object(H.jsx)("svg",{style:{width:800,height:n},children:r})}var V=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this,e)).onCompile=function(e){var t=window.Sk;t.pre="output";var n=[],a=[],i=0;function o(){return(++i).toString()}t.builtins.vdd=t.ffi.remapToPy("vdd"),t.builtins.gnd=t.ffi.remapToPy("gnd"),t.builtins.new_net=function(e){return t.ffi.remapToJs(e)+o()},t.builtins.new_net.co_varnames=["name"],t.builtins.new_net.$defaults=["net"],t.builtins.new_net.co_numargs=1,t.builtins.nfet=function(e,n,r){if(void 0===e||void 0===n)throw"nfet must be called like nfet(gate, drain, source) or like nfet(gate, drain) with source implicitly being gnd";e=t.ffi.remapToJs(e),n=t.ffi.remapToJs(n),void 0===(r=t.ffi.remapToJs(r))&&(r="gnd"),a.push({kind:"fet",isPfet:!1,gate:e,drain:n,source:r})},t.builtins.nfet.co_varnames=["gate","drain","source"],t.builtins.nfet.$defaults=[void 0,void 0,void 0],t.builtins.nfet.co_numargs=3,t.builtins.pfet=function(e,n,r){if(void 0===e||void 0===n)throw"pfet must be called like pfet(gate, drain, source) or like pfet(gate, drain) with source implicitly being vdd";e=t.ffi.remapToJs(e),n=t.ffi.remapToJs(n),void 0===(r=t.ffi.remapToJs(r))&&(r="vdd"),a.push({kind:"fet",isPfet:!0,gate:e,drain:n,source:r})},t.builtins.pfet.co_varnames=["gate","drain","source"],t.builtins.pfet.$defaults=[void 0,void 0,void 0],t.builtins.pfet.co_numargs=3,t.builtins.probe=function(e,n){e=t.ffi.remapToJs(e),n=t.ffi.remapToJs(n),a.push({kind:"probe",label:e,net:n})},t.builtins.probe.co_varnames=["label","net"],t.builtins.probe.co_numargs=2,t.builtins.pull_down_resistor=function(e){e=t.ffi.remapToJs(e),a.push({kind:"pull_resistor",direction:"down",net:e})},t.builtins.pull_down_resistor.co_varnames=["net"],t.builtins.pull_down_resistor.co_numargs=1,t.builtins.pull_up_resistor=function(e){e=t.ffi.remapToJs(e),a.push({kind:"pull_resistor",direction:"up",net:e})},t.builtins.pull_up_resistor.co_varnames=["net"],t.builtins.pull_up_resistor.co_numargs=1,t.builtins.wire_together=function(e){e=t.ffi.remapToJs(e),a.push({kind:"wire",nets:e})},t.builtins.wire_together.co_varnames=["nets"],t.builtins.wire_together.co_numargs=1,t.builtins.button=function(){var e="button"+o();return a.push({kind:"button",net:e}),t.ffi.remapToPy(e)},t.builtins.button.co_varnames=[],t.builtins.button.co_numargs=0,t.builtins.signal=function(e,n){var r=t.ffi.remapToJs(n)+o();if(void 0===e)throw'signal must take pattern, like: signal("01...")';var i=(e=t.ffi.remapToJs(e).toLowerCase()).endsWith("...");i&&(e=e.slice(0,-3));var s,l=Object(d.a)(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;if("0"!==c&&"1"!==c&&"z"!==c)throw"The pattern must be made of 0s, 1s and zs, and may optionally end with ... to indicate that the pattern should repeat."}}catch(u){l.e(u)}finally{l.f()}return a.push({kind:"signal",net:r,pattern:e,repeat:i}),t.ffi.remapToPy(r)},t.builtins.signal.co_varnames=["desc","name"],t.builtins.signal.$defaults=[void 0,"signal"],t.builtins.signal.co_numargs=2,t.configure({output:function(e){n.push(e.toString())},read:Y}),t.misceval.asyncToPromise((function(){return t.importMainWithBody("<stdin>",!1,e,!0)})).then((function(e){r.setState({terminalOutput:"Success: components=".concat(a.length,"\n")+n.join("")}),r.simulate(a)}),(function(e){r.setState({terminalOutput:n.join("")+"\n"+e.toString()})}))},r.state={code:localStorage.getItem("code")||"# This is \"Python\" (Skulpt).\n# To build up your solution to the puzzle simply call the functions documented below to emit circuit components.\n#\n# You have the following functions:\n#\n#   new_net(name_prefix: Optional[str] = 'net') -> Net\n#     Creates a new unique net, with an optional name prefix.\n#\n#   nfet(gate: Net, drain: Net, source: Optional[Net])\n#     Emits an n-channel FET into the circuit (pulls drain down to source when gate is high).\n#     If the source is omitted it defaults to gnd.\n#     It is a CMOS design rule violation if source can somehow be pulled high.\n#\n#   pfet(gate: Net, drain: Net, source: Optional[Net])\n#     Emits a p-channel FET into the circuit (pulls drain up to source when gate is low).\n#     If the source is omitted it defaults to vdd.\n#     It is a CMOS design rule violation if source can somehow be pulled low.\n#\n#   probe(label: str, net: Net)\n#     Marks the net to be plotted. Has no electrical effect.\n#\n#   wire_together(nets: List[Net])\n#     Electrically connects all of the listed nets.\n#\n#   button(label: Optional[str]) -> Net\n#     Emits a one-terminal push button, and return the button's output net.\n#     When the button is pushed the net is pulled high, and when released pulled low.\n#\n#   signal(pattern: str) -> Net\n#     Emits a signal generator component, and return the generator's output net.\n#     The pattern must be made of 0s, 1s, and zs, and may optionally end with ... to indicate that the pattern should repeat.\n#     If the \n#     The value z indicates that the signal shouldn't drive the output (high Z).\n#     Examples:\n#       clock = signal('01...') # Creates a clock signal that toggles every time step.\n#       output = signal('zzz1z') # Waits three time steps, then drives high, then stops driving forever.\n#\n# The net gnd is always low, and the net vdd is always high.\n\n# Create an inverter.\noutput = new_net()\nclock = signal('01...')\nnfet(clock, output, gnd)\npfet(clock, output, vdd)\nprobe('clock', clock)\nprobe('inverter output', output)\n",terminalOutput:"(Hit ctrl + enter in the code window to rerun.)",simOutput:"",components:[],simResult:null},r}return Object(p.a)(n,[{key:"reportError",value:function(e,t){var n=this.state.code.split("\n")[e-1];this.setState({terminalOutput:"  ".concat(n,"\n\nError on line ").concat(e,": ").concat(t)})}},{key:"simulate",value:function(e){e=[].concat(Object(l.a)(e),[{kind:"signal",net:"vdd",pattern:["1"],repeat:!1},{kind:"signal",net:"gnd",pattern:["0"],repeat:!1}]);var t,n=new Set(["vdd","gnd"]),r=[],a=new G,i=Object(d.a)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;switch(o.kind){case"fet":for(var s=0,c=[o.gate,o.drain,o.source];s<c.length;s++){var u=c[s];n.add(u)}break;case"wire":var f,p=Object(d.a)(o.nets);try{for(p.s();!(f=p.n()).done;){var h=f.value;n.add(h)}}catch(Z){p.e(Z)}finally{p.f()}a.union.apply(a,Object(l.a)(o.nets));break;case"probe":r.push(o),n.add(o.net);break;case"pull_resistor":case"button":case"signal":n.add(o.net)}}}catch(Z){i.e(Z)}finally{i.f()}if(K){var g,b=[],m=new Map,v=Object(d.a)(n);try{for(v.s();!(g=v.n()).done;){var w=g.value,y=a.canonicalize(w);m.has(y)||m.set(y,m.size),m.set(w,m.get(y))}}catch(Z){v.e(Z)}finally{v.f()}var k,_=Object(d.a)(e);try{for(_.s();!(k=_.n()).done;){var x=k.value;switch(x.kind){case"fet":b.push(1,+x.isPfet,m.get(x.gate),m.get(x.drain),m.get(x.source));break;case"pull_resistor":b.push(2,{up:0,down:1}[x.direction],m.get(x.net));break;case"signal":b.push.apply(b,[3,m.get(x.net),+x.repeat,x.pattern.length].concat(Object(l.a)(Object(l.a)(x.pattern).map((function(e){return{0:0,1:1,z:2}[e]})))));break;default:continue}b.push(123456789)}}catch(Z){_.e(Z)}finally{_.f()}for(var S=J(new Uint32Array(b),m.size,100,10),O=W(),j=[],T=!1,E=0;E<O.length;E+=2){var z,C=O[E],I=O[E+1],M=S.slice(C,C+I),P=Object(d.a)(M);try{for(P.s();!(z=P.n()).done;){3==z.value&&(T=!0)}}catch(Z){P.e(Z)}finally{P.f()}j.push(M)}var A,F=new Map,N=Object(d.a)(n);try{for(N.s();!(A=N.n()).done;){var L=A.value;F.set(L,j[m.get(L)])}}catch(Z){N.e(Z)}finally{N.f()}var R="Components: ".concat(e.length-2,"  Nets: ").concat(n.size),U={components:e.length,nets:Object(l.a)(n),netTraces:F,probes:r,shootThroughOccurred:T};this.setState({components:e,simOutput:R,simResult:U})}else this.setState({simOutput:"Wasm component not initialized."})}},{key:"oldOnCompile",value:function(e){var t,n=e.split("\n"),r=0,a=[],i=Object(d.a)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(r++,0!==(o=o.split("//")[0]).length){var s=o.split(/ +/);if("nfet"===s[0]||"pfet"===s[0]){if(4!==s.length)return this.reportError(r,"FET must take three arguments: nfet/pfet gate drain source");a.push({kind:s[0],gate:s[1],drain:s[2],source:s[3]})}else if("probe"===s[0]||"wire"===s[0]){if(1===s.length)return this.reportError(r,"".concat(s[0]," takes a list of nets to monitor, like: ").concat(s[0]," net0 net1 net2..."));a.push({kind:s[0],nets:s.slice(1)})}else if("button"===s[0]){if(2!==s.length)return this.reportError(r,"button takes a single output net, like: button net");a.push({kind:"button",net:s[1]})}else{if("signal"!==s[0])return this.reportError(r,"Invalid component: ".concat(s[0]," (must be one of: nfet, pfet, probe, wire, button, signal)"));if(3!==s.length)return this.reportError(r,"signal takes a net and a description of the signal, like: signal clock 01... \nThe signal must be made of 0s and 1s, and may optionally end with ... to indicate that the signal should repeat.");var l=s[2].endsWith("...");l&&(s[2]=s[2].slice(0,-3));var c,u=Object(d.a)(s[2]);try{for(u.s();!(c=u.n()).done;){var f=c.value;if("0"!==f&&"1"!==f)return this.reportError(r,"The signal must be made of 0s and 1s, and may optionally end with ... to indicate that the signal should repeat.")}}catch(p){u.e(p)}finally{u.f()}a.push({kind:"signal",repeat:l,signal:s[2],net:s[1]})}}}}catch(p){i.e(p)}finally{i.f()}this.simulate(a)}},{key:"render",value:function(){var e,t=this,n=parseInt(localStorage.getItem("split1")||"500"),r=parseInt(localStorage.getItem("split2")||"400");return Object(H.jsx)("div",{style:{display:"flex"},children:Object(H.jsxs)(m.a,{split:"vertical",minSize:300,defaultSize:n,onChange:function(e){return localStorage.setItem("split1",e.toString())},resizerStyle:{background:"black",width:"3px",cursor:"col-resize",height:"100%"},children:[Object(H.jsx)("div",{children:Object(H.jsx)(h.Controlled,{value:this.state.code,options:(e=this.onCompile,{mode:"python",theme:"material",lineNumbers:!0,indentUnit:4,lineWrapping:!0,extraKeys:{"Ctrl-Enter":function(n){e(t.state.code)},"Ctrl-S":function(e){}}}),onBeforeChange:function(e,n,r){localStorage.setItem("code",r),t.setState({code:r})}})}),Object(H.jsx)("div",{children:Object(H.jsxs)(m.a,{split:"horizontal",minSize:30,defaultSize:r,onChange:function(e){return localStorage.setItem("split2",e.toString())},resizerStyle:{background:"black",height:"3px",cursor:"row-resize",width:"100%"},children:[Object(H.jsx)("div",{style:{width:"100%",height:"100%",backgroundColor:"#333",color:"white",fontFamily:"monospace"},children:Object(H.jsx)("div",{style:{margin:10},children:null!==this.state.simResult&&Q(this.state.simResult)})}),Object(H.jsxs)("div",{style:{backgroundColor:"#222",whiteSpace:"pre-wrap",color:"white",fontFamily:"monospace",width:"100%",height:"100%",padding:10},children:[this.state.terminalOutput,"\n\n"+this.state.simOutput]})]})})]})})}}]),n}(i.a.PureComponent),X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};s.a.render(Object(H.jsx)(i.a.StrictMode,{children:Object(H.jsx)(V,{})}),document.getElementById("root")),X()}},[[35,1,2]]]);
//# sourceMappingURL=main.0442238a.chunk.js.map